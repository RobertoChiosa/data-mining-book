<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 Machine Learning Metrics | 08_MLmetrics.utf8</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 Machine Learning Metrics | 08_MLmetrics.utf8" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 Machine Learning Metrics | 08_MLmetrics.utf8" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  


<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data mining methods for building energy data</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path=""><a href="#machine-learning-metrics"><i class="fa fa-check"></i><b>1</b> Machine Learning Metrics</a><ul>
<li class="chapter" data-level="1.1" data-path=""><a href="#classification-metrics"><i class="fa fa-check"></i><b>1.1</b> Classification Metrics</a><ul>
<li class="chapter" data-level="1.1.1" data-path=""><a href="#confusion-metrics"><i class="fa fa-check"></i><b>1.1.1</b> Confusion metrics</a></li>
<li class="chapter" data-level="1.1.2" data-path=""><a href="#accuracy"><i class="fa fa-check"></i><b>1.1.2</b> Accuracy</a></li>
<li class="chapter" data-level="1.1.3" data-path=""><a href="#precision"><i class="fa fa-check"></i><b>1.1.3</b> Precision</a></li>
<li class="chapter" data-level="1.1.4" data-path=""><a href="#recall"><i class="fa fa-check"></i><b>1.1.4</b> Recall</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path=""><a href="#regression-metrics"><i class="fa fa-check"></i><b>1.2</b> Regression Metrics</a><ul>
<li class="chapter" data-level="1.2.1" data-path=""><a href="#mean-squared-error-mse"><i class="fa fa-check"></i><b>1.2.1</b> Mean Squared Error (MSE)</a></li>
<li class="chapter" data-level="1.2.2" data-path=""><a href="#root-mean-squared-error-rmse"><i class="fa fa-check"></i><b>1.2.2</b> Root Mean Squared Error (RMSE)</a></li>
<li class="chapter" data-level="1.2.3" data-path=""><a href="#root-mean-squared-percentage-error-rmspe"><i class="fa fa-check"></i><b>1.2.3</b> Root Mean Squared Percentage Error (RMSPE)</a></li>
<li class="chapter" data-level="1.2.4" data-path=""><a href="#mean-absolute-error-mae"><i class="fa fa-check"></i><b>1.2.4</b> Mean Absolute Error (MAE)</a></li>
<li class="chapter" data-level="1.2.5" data-path=""><a href="#mean-absolute-percentage-error-mape"><i class="fa fa-check"></i><b>1.2.5</b> Mean Absolute Percentage Error (MAPE)</a></li>
<li class="chapter" data-level="1.2.6" data-path=""><a href="#median-absolute-percentage-error-medianape"><i class="fa fa-check"></i><b>1.2.6</b> Median Absolute Percentage Error (MedianAPE)</a></li>
<li class="chapter" data-level="1.2.7" data-path=""><a href="#root-absolute-error-rae"><i class="fa fa-check"></i><b>1.2.7</b> Root Absolute Error (RAE)</a></li>
<li class="chapter" data-level="1.2.8" data-path=""><a href="#r2-r2_score"><i class="fa fa-check"></i><b>1.2.8</b> R2 (R2_Score)</a></li>
<li class="chapter" data-level="1.2.9" data-path=""><a href="#adjusted-r2-r2_score"><i class="fa fa-check"></i><b>1.2.9</b> Adjusted R2 (R2_Score)}</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<!--bookdown:title:end-->
<!--bookdown:title:start-->
<div id="machine-learning-metrics" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> Machine Learning Metrics</h1>
<div id="classification-metrics" class="section level2">
<h2><span class="header-section-number">1.1</span> Classification Metrics</h2>
<div id="confusion-metrics" class="section level3">
<h3><span class="header-section-number">1.1.1</span> Confusion metrics</h3>
</div>
<div id="accuracy" class="section level3">
<h3><span class="header-section-number">1.1.2</span> Accuracy</h3>
</div>
<div id="precision" class="section level3">
<h3><span class="header-section-number">1.1.3</span> Precision</h3>
</div>
<div id="recall" class="section level3">
<h3><span class="header-section-number">1.1.4</span> Recall</h3>
</div>
</div>
<div id="regression-metrics" class="section level2">
<h2><span class="header-section-number">1.2</span> Regression Metrics</h2>
<p>Let’s assume we have a regression model which predicts a given variable (<span class="math inline">\(\hat{y}_i\)</span>), and let’s say we also have the actual value of the given variable (<span class="math inline">\(y_i\)</span>).</p>
<div id="mean-squared-error-mse" class="section level3">
<h3><span class="header-section-number">1.2.1</span> Mean Squared Error (MSE)</h3>
<p>It shows the average deviation between actual value and predicted value. It is calculated as follows:
<span class="math display">\[\begin{equation}
    MSE = \frac{1}{N}\sum_{i=1}^N{(y_i-\hat{y}_i)^2}
\end{equation}\]</span></p>
<p>Takes the average of the square of the difference between the original values and the predicted values. As we take square of the error, the effect of larger errors (sometimes outliers) become more pronounced then smaller error. Model will be penalized more for making predictions that differ greatly from the corresponding actual value.</p>
<p>Thus, before applying MSE, we must eliminate all nulls/infinites from the input and keep in mind that it is not robust to outliers. The unit of measure of MSE is not the original one because the variables are squared.</p>
<p>By definition its value ranges in the interval <span class="math inline">\((0, + \infty]\)</span>, smaller the MSE better the prediction.</p>
</div>
<div id="root-mean-squared-error-rmse" class="section level3">
<h3><span class="header-section-number">1.2.2</span> Root Mean Squared Error (RMSE)</h3>
<p>This metrics is the square root of MSE and is defines ad follows:
<span class="math display">\[\begin{equation}
    RMSE = \sqrt{\frac{1}{N}\sum_{i=1}^N{(y_i-\hat{y}_i})^2}
\end{equation}\]</span></p>
<p>The RMSE is analogous to the standard deviation and is a measure of how large the residuals are spread out. Since it derives from the MSE definition it is similarly affected by the outliers. Generally, RMSE will be higher than or equal to MAE but it has the same units of measure of the predicted value.</p>
<p>RMSE is always non-negative, and a value of 0 (almost never achieved in practice) would indicate a perfect fit to the data. In general, a lower RMSD is better than a higher one. However, comparisons across different types of data would be invalid because the measure is dependent on the scale of the numbers used.</p>
</div>
<div id="root-mean-squared-percentage-error-rmspe" class="section level3">
<h3><span class="header-section-number">1.2.3</span> Root Mean Squared Percentage Error (RMSPE)</h3>
<p>In some cases is useful to express the RMSE in percentage, the relative metrics is RMSPE and is defined ad follows:
<span class="math display">\[\begin{equation}
    RMSPE = \bigg( \sqrt{\frac{1}{N}\sum_{i=1}^N{ \frac{(y_i-\hat{y}_i)^2}{y_i}  }} \bigg)*100
\end{equation}\]</span></p>
</div>
<div id="mean-absolute-error-mae" class="section level3">
<h3><span class="header-section-number">1.2.4</span> Mean Absolute Error (MAE)</h3>
<p>It finds the average absolute distance between the predicted and target variables. It is robust to outliers compared to MSE, the main reason being that in MSE by squaring the errors, the outliers (which usually have higher errors than other samples) get more attention and dominance in the final error and impacting the model parameters. However, they don’t gives us any idea of the direction of the error i.e. whether we are under predicting the data or over predicting the data.</p>
<p><span class="math display">\[\begin{equation}
    MAE = \frac{1}{N}\sum_{i=1}^N{|y_i-\hat{y}_i|}
\end{equation}\]</span></p>
<p>MAE possesses advantages in interpretability over RMSD. MAE is the average of the absolute values of the errors. Furthermore, each error influences MAE in direct proportion to the absolute value of the error, which is not the case for RMSD. Since it doesn’t squares the outliers it is more robust to outliers.</p>
<p>MAE ranges in the interval <span class="math inline">\((0, + \infty]\)</span>, maller the MAE, better is the model.</p>
</div>
<div id="mean-absolute-percentage-error-mape" class="section level3">
<h3><span class="header-section-number">1.2.5</span> Mean Absolute Percentage Error (MAPE)</h3>
<p>The MAE can be expressed as percentage as follows:</p>
<p><span class="math display">\[\begin{equation}
    MAPE = \frac{1}{N}\sum_{i=1}^N{  \bigg| \frac{y_i-\hat{y}_i}{y_i} \bigg|   }
\end{equation}\]</span></p>
<p>This definition permits a better interpretability but some problems can occur when calculating the MAPE value with a series of small denominators. Moreover it does not fit for methods comparison when the order of magnotude of the predicted value varies significantly.</p>
</div>
<div id="median-absolute-percentage-error-medianape" class="section level3">
<h3><span class="header-section-number">1.2.6</span> Median Absolute Percentage Error (MedianAPE)</h3>
</div>
<div id="root-absolute-error-rae" class="section level3">
<h3><span class="header-section-number">1.2.7</span> Root Absolute Error (RAE)</h3>
</div>
<div id="r2-r2_score" class="section level3">
<h3><span class="header-section-number">1.2.8</span> R2 (R2_Score)</h3>
<p>R Squared metric is generally used for explanatory purpose and provides an indication of the goodness or fit of a set of predicted output values to the actual output values.</p>
<p><span class="math display">\[\begin{equation}
    R^2 = \frac{MSE_{model}}{MSE_{baseline}} = \frac{}{}
\end{equation}\]</span></p>
<ul>
<li>A model performing equal to baseline would give R-Squared as 0. Better the model, higher the r2 value.</li>
<li>Range[- infinity, 1)</li>
</ul>
<p><a href="https://medium.com/human-in-a-machine-world/mae-and-rmse-which-metric-is-better-e60ac3bde13d#" class="uri">https://medium.com/human-in-a-machine-world/mae-and-rmse-which-metric-is-better-e60ac3bde13d#</a>:~:text=Definitions,predictions%2C%20without%20considering%20their%20direction.&amp;text=Root%20mean%20squared%20error%20(RMSE)%3A%20RMSE%20is%20a%20quadratic,average%20magnitude%20of%20the%20error.</p>
</div>
<div id="adjusted-r2-r2_score" class="section level3">
<h3><span class="header-section-number">1.2.9</span> Adjusted R2 (R2_Score)}</h3>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>


    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/RobertoChiosa/APPUNTI/master/%s",
"text": "Suggest an edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/RobertoChiosa/APPUNTI/blob/master/%s",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection",
"download": ["pdf", "epub"],
"scroll_highlight": true
},
"search": false
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
